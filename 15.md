Буквально сейчас рефакторю 3 компонента, в начале были написаны юнит тесты на все компоненты, просто исходя из текущего поведения.
Было страшно переписывать, и что-то сломать.

Компоненты большие, не буду приводить их здесь.

Оказалось, что в компонентах много похожей логики, и я вынес часть этого функционала в отдельную функцию, коорая возвращает готовые методы, и переменные для него.

Все границы были определены исключительно через интерфей, хотя не все вещи получилось ограничить, небольшие отличя были.


После чего я дописал тесты по юз кейсам, и оказалось, что часть логики можно выбросить совсем. 

Окончательный вариант на данный момент

```typescript
const { isOpen, open, close, toggle, selectDate, setIsOpen, inputValue, setInputValue } = useDatePicker({
			value,
			onChange,
			onOpen,
			onClose,
			onSaveClick,
			mode: 'single',
		});
```

Выкатимся, если не возникнет дополнительных проблем, продолжу работаь в этом же направлении, следующей итерацией.

Как итог внешне код делает все тоже самое, но теперь это лежит в одном месте, понимать код стало легче.